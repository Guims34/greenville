import{j as e,U as Q,L as he,m as f,S as L,A as V,a as U,_ as S,b as pe,c as ge,C as fe,d as je,e as ve,M as ye,T as Z,f as be,g as ee,h as Ne,B as we,X as se,i as Se,k as Ee,l as ke,n as te,o as De,p as Ie,q,r as B,s as Ce,I as Ae}from"./ui-Dx9Yb_6s.js";import{a as Pe,r as w,g as Le,R,u as A,L as P,B as _e,b as Re,c as I,N as z}from"./vendor-hGpyXIeq.js";import{u as Ue,G as Te}from"./auth-dmfF-aKe.js";import{o as Oe,r as Me,a as ze,z as y,u as G}from"./form-BA5jX7O0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var $={},J=Pe;$.createRoot=J.createRoot,$.hydrateRoot=J.hydrateRoot;const $e={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://api.greenville.com",VITE_ENVIRONMENT:"production",VITE_GOOGLE_CLIENT_ID:"886218962997-v81f503tdae2g1v4vdelopefv4jj23pg.apps.googleusercontent.com",VITE_SENTRY_DSN:"https://your-sentry-dsn.ingest.sentry.io/"},W=s=>{let r;const t=new Set,n=(g,u)=>{const v=typeof g=="function"?g(r):g;if(!Object.is(v,r)){const j=r;r=u??(typeof v!="object"||v===null)?v:Object.assign({},r,v),t.forEach(d=>d(r,j))}},a=()=>r,c={setState:n,getState:a,getInitialState:()=>m,subscribe:g=>(t.add(g),()=>t.delete(g)),destroy:()=>{($e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},m=r=s(n,a,c);return c},Ve=s=>s?W(s):W;var re={exports:{}},ae={},ie={exports:{}},ne={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C=w;function Ge(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Fe=typeof Object.is=="function"?Object.is:Ge,He=C.useState,qe=C.useEffect,Be=C.useLayoutEffect,Je=C.useDebugValue;function We(s,r){var t=r(),n=He({inst:{value:t,getSnapshot:r}}),a=n[0].inst,i=n[1];return Be(function(){a.value=t,a.getSnapshot=r,O(a)&&i({inst:a})},[s,t,r]),qe(function(){return O(a)&&i({inst:a}),s(function(){O(a)&&i({inst:a})})},[s]),Je(t),t}function O(s){var r=s.getSnapshot;s=s.value;try{var t=r();return!Fe(s,t)}catch{return!0}}function Xe(s,r){return r()}var Ye=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xe:We;ne.useSyncExternalStore=C.useSyncExternalStore!==void 0?C.useSyncExternalStore:Ye;ie.exports=ne;var Ke=ie.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T=w,Qe=Ke;function Ze(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var es=typeof Object.is=="function"?Object.is:Ze,ss=Qe.useSyncExternalStore,ts=T.useRef,rs=T.useEffect,as=T.useMemo,is=T.useDebugValue;ae.useSyncExternalStoreWithSelector=function(s,r,t,n,a){var i=ts(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=as(function(){function c(j){if(!m){if(m=!0,g=j,j=n(j),a!==void 0&&o.hasValue){var d=o.value;if(a(d,j))return u=d}return u=j}if(d=u,es(g,j))return d;var x=n(j);return a!==void 0&&a(d,x)?d:(g=j,u=x)}var m=!1,g,u,v=t===void 0?null:t;return[function(){return c(r())},v===null?void 0:function(){return c(v())}]},[r,t,n,a]);var l=ss(s,i[0],i[1]);return rs(function(){o.hasValue=!0,o.value=l},[l]),is(l),l};re.exports=ae;var ns=re.exports;const ls=Le(ns),le={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://api.greenville.com",VITE_ENVIRONMENT:"production",VITE_GOOGLE_CLIENT_ID:"886218962997-v81f503tdae2g1v4vdelopefv4jj23pg.apps.googleusercontent.com",VITE_SENTRY_DSN:"https://your-sentry-dsn.ingest.sentry.io/"},{useDebugValue:os}=R,{useSyncExternalStoreWithSelector:cs}=ls;let X=!1;const ds=s=>s;function ms(s,r=ds,t){(le?"production":void 0)!=="production"&&t&&!X&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),X=!0);const n=cs(s.subscribe,s.getState,s.getServerState||s.getInitialState,r,t);return os(n),n}const xs=s=>{(le?"production":void 0)!=="production"&&typeof s!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof s=="function"?Ve(s):s,t=(n,a)=>ms(r,n,a);return Object.assign(t,r),t},k=s=>xs,us={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://api.greenville.com",VITE_ENVIRONMENT:"production",VITE_GOOGLE_CLIENT_ID:"886218962997-v81f503tdae2g1v4vdelopefv4jj23pg.apps.googleusercontent.com",VITE_SENTRY_DSN:"https://your-sentry-dsn.ingest.sentry.io/"};function F(s,r){let t;try{t=s()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=t.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>t.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>t.removeItem(a)}}const _=s=>r=>{try{const t=s(r);return t instanceof Promise?t:{then(n){return _(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return _(n)(t)}}}},hs=(s,r)=>(t,n,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:h=>h,version:0,merge:(h,b)=>({...b,...h}),...r},o=!1;const l=new Set,c=new Set;let m;try{m=i.getStorage()}catch{}if(!m)return s((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...h)},n,a);const g=_(i.serialize),u=()=>{const h=i.partialize({...n()});let b;const p=g({state:h,version:i.version}).then(N=>m.setItem(i.name,N)).catch(N=>{b=N});if(b)throw b;return p},v=a.setState;a.setState=(h,b)=>{v(h,b),u()};const j=s((...h)=>{t(...h),u()},n,a);let d;const x=()=>{var h;if(!m)return;o=!1,l.forEach(p=>p(n()));const b=((h=i.onRehydrateStorage)==null?void 0:h.call(i,n()))||void 0;return _(m.getItem.bind(m))(i.name).then(p=>{if(p)return i.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return i.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var N;return d=i.merge(p,(N=n())!=null?N:j),t(d,!0),u()}).then(()=>{b==null||b(d,void 0),o=!0,c.forEach(p=>p(d))}).catch(p=>{b==null||b(void 0,p)})};return a.persist={setOptions:h=>{i={...i,...h},h.getStorage&&(m=h.getStorage())},clearStorage:()=>{m==null||m.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:h=>(l.add(h),()=>{l.delete(h)}),onFinishHydration:h=>(c.add(h),()=>{c.delete(h)})},x(),d||j},ps=(s,r)=>(t,n,a)=>{let i={storage:F(()=>localStorage),partialize:x=>x,version:0,merge:(x,h)=>({...h,...x}),...r},o=!1;const l=new Set,c=new Set;let m=i.storage;if(!m)return s((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...x)},n,a);const g=()=>{const x=i.partialize({...n()});return m.setItem(i.name,{state:x,version:i.version})},u=a.setState;a.setState=(x,h)=>{u(x,h),g()};const v=s((...x)=>{t(...x),g()},n,a);a.getInitialState=()=>v;let j;const d=()=>{var x,h;if(!m)return;o=!1,l.forEach(p=>{var N;return p((N=n())!=null?N:v)});const b=((h=i.onRehydrateStorage)==null?void 0:h.call(i,(x=n())!=null?x:v))||void 0;return _(m.getItem.bind(m))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return[!0,i.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var N;const[xe,ue]=p;if(j=i.merge(ue,(N=n())!=null?N:v),t(j,!0),xe)return g()}).then(()=>{b==null||b(j,void 0),j=n(),o=!0,c.forEach(p=>p(j))}).catch(p=>{b==null||b(void 0,p)})};return a.persist={setOptions:x=>{i={...i,...x},x.storage&&(m=x.storage)},clearStorage:()=>{m==null||m.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>d(),hasHydrated:()=>o,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||d(),j||v},gs=(s,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((us?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),hs(s,r)):ps(s,r),D=gs,E=k()(D(s=>({user:null,token:null,isAuthenticated:!1,login:(r,t)=>s({user:r,token:t,isAuthenticated:!0}),logout:()=>s({user:null,token:null,isAuthenticated:!1})}),{name:"auth-storage",storage:F(()=>localStorage),partialize:s=>({user:s.user,token:s.token,isAuthenticated:s.isAuthenticated})})),fs=()=>{const s=A(),{isAuthenticated:r,user:t,logout:n}=E(),a=()=>{n(),s("/")},i=(t==null?void 0:t.email)==="admin@greenville.com";return e.jsx("header",{className:"bg-white shadow",children:e.jsx("nav",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(P,{to:"/",className:"text-xl font-bold text-emerald-600",children:"GreenVille"}),e.jsx("div",{className:"flex items-center gap-4",children:r?e.jsxs(e.Fragment,{children:[e.jsx(P,{to:"/dashboard",className:"text-gray-600 hover:text-gray-800",children:"Dashboard"}),i&&e.jsx(P,{to:"/admin",className:"text-gray-600 hover:text-gray-800",children:"Admin"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-emerald-600"}),e.jsx("span",{className:"text-gray-700",children:t==null?void 0:t.username})]}),e.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[e.jsx(he,{className:"w-5 h-5"}),"D√©connexion"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{to:"/login",className:"text-emerald-600 hover:text-emerald-700 px-4 py-2 rounded-lg",children:"Connexion"}),e.jsx(P,{to:"/register",className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700",children:"Inscription"})]})})]})})})},js=()=>{const s=A();return e.jsx("div",{className:"relative bg-emerald-900 text-white",children:e.jsxs("div",{className:"relative container mx-auto px-4 py-16 md:py-24",children:[e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Bienvenue dans GreenVille"}),e.jsx("p",{className:"text-xl md:text-2xl text-emerald-200 mb-8",children:"Devenez le ma√Ætre cultivateur dans notre simulation de culture"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 mb-12",children:[e.jsx(f.button,{onClick:()=>s("/register"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-4 bg-emerald-500 hover:bg-emerald-400 rounded-lg text-lg font-semibold transition",children:"Commencer l'aventure"}),e.jsx(f.button,{onClick:()=>s("/login"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-4 bg-emerald-700 hover:bg-emerald-600 rounded-lg text-lg font-semibold transition",children:"Se connecter"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto mt-16",children:[e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-emerald-800/50 p-6 rounded-xl",children:[e.jsx(L,{className:"h-12 w-12 mb-4 text-emerald-400"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Cultivez"}),e.jsx("p",{className:"text-emerald-200",children:"G√©rez votre propre exploitation avec diff√©rentes vari√©t√©s"})]}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-emerald-800/50 p-6 rounded-xl",children:[e.jsx(V,{className:"h-12 w-12 mb-4 text-emerald-400"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Progressez"}),e.jsx("p",{className:"text-emerald-200",children:"Montez en niveau et d√©bloquez de nouveaux √©quipements"})]}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-emerald-800/50 p-6 rounded-xl",children:[e.jsx(U,{className:"h-12 w-12 mb-4 text-emerald-400"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Communaut√©"}),e.jsx("p",{className:"text-emerald-200",children:"Rejoignez une communaut√© active et √©changez avec d'autres joueurs"})]})]}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-20 grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold text-emerald-400",children:"10K+"}),e.jsx("div",{className:"text-emerald-200 mt-2",children:"Joueurs Actifs"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold text-emerald-400",children:"50+"}),e.jsx("div",{className:"text-emerald-200 mt-2",children:"Vari√©t√©s"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold text-emerald-400",children:"24/7"}),e.jsx("div",{className:"text-emerald-200 mt-2",children:"Support"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold text-emerald-400",children:"100%"}),e.jsx("div",{className:"text-emerald-200 mt-2",children:"Gratuit"})]})]})]})})};var vs=function(s,r){for(var t={};s.length;){var n=s[0],a=n.code,i=n.message,o=n.path.join(".");if(!t[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];t[o]={message:l.message,type:l.code}}else t[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(g){return g.errors.forEach(function(u){return s.push(u)})}),r){var c=t[o].types,m=c&&c[n.code];t[o]=ze(o,r,t,a,m?[].concat(m,n.message):n.message)}s.shift()}return t},H=function(s,r,t){return t===void 0&&(t={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(s[t.mode==="sync"?"parse":"parseAsync"](n,r)).then(function(m){return i.shouldUseNativeValidation&&Oe({},i),{errors:{},values:t.raw?n:m}})}catch(m){return l(m)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Me(vs(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const ys=y.object({id:y.string().min(1),username:y.string().min(3).max(50),email:y.string().email(),level:y.number().int().min(1).max(100),status:y.enum(["active","suspended"]),joinDate:y.string()}),Y=s=>s.replace(/[<>]/g,""),bs=s=>{try{return"username"in s&&(s.username=Y(s.username)),"email"in s&&(s.email=Y(s.email)),!0}catch(r){return console.error("Validation error:",r),!1}},Ns=[{id:"1",username:"JohnDoe",email:"john@example.com",level:15,status:"active",joinDate:new Date().toISOString()},{id:"2",username:"JaneSmith",email:"jane@example.com",level:8,status:"active",joinDate:new Date().toISOString()},{id:"3",username:"BobJohnson",email:"bob@example.com",level:5,status:"suspended",joinDate:new Date().toISOString()}],oe=k()(D(s=>({users:Ns,setUsers:r=>{const t=r.filter(n=>{try{return ys.parse(n),!0}catch(a){return console.error("Invalid user data:",a),!1}});s({users:t})},updateUser:(r,t)=>{if(!bs(t))throw new Error("Invalid user data update");s(n=>({users:n.users.map(a=>a.id===r?{...a,...t}:a)}))},deleteUser:r=>{if(!r||typeof r!="string")throw new Error("Invalid user ID for deletion");s(t=>({users:t.users.filter(n=>n.id!==r)}))}}),{name:"user-storage",skipHydration:!1})),ce=()=>{const s=A(),r=E(o=>o.login),{users:t,setUsers:n}=oe(),i=Ue({onSuccess:async o=>{try{const c=await(await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${o.access_token}`}})).json(),m={id:c.sub,username:c.name,email:c.email,level:1,coins:1e3,premiumCoins:0,status:"active",joinDate:new Date().toISOString()};t.find(u=>u.email===c.email)||n([...t,m]),r(m,o.access_token),S.success("Connexion r√©ussie !"),s("/dashboard")}catch(l){console.error("Erreur lors de la connexion Google:",l),S.error("Erreur de connexion")}},onError:()=>{console.error("Erreur de connexion Google"),S.error("Erreur de connexion Google")},flow:"implicit",popup:!0});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Ou continuer avec"})})]}),e.jsxs("button",{onClick:()=>i(),className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx("img",{className:"h-5 w-5 mr-2",src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google"}),"Google"]})]})},ws=y.object({email:y.string().email("Email invalide"),password:y.string().min(6,"Le mot de passe doit contenir au moins 6 caract√®res")}),M={email:"admin@greenville.com",password:"admin123456"},Ss=()=>{const s=A(),r=E(c=>c.login),{register:t,handleSubmit:n,setError:a,formState:{errors:i,isSubmitting:o}}=G({resolver:H(ws)}),l=async c=>{try{if(c.email===M.email){if(c.password!==M.password){a("password",{message:"Mot de passe incorrect"});return}r({id:"admin",username:"Administrateur",email:M.email,level:99,coins:999999,premiumCoins:999999},"admin-token"),s("/admin");return}const m=await new Promise(g=>{setTimeout(()=>{g({user:{id:"1",username:"Utilisateur Test",email:c.email,level:1,coins:1e3,premiumCoins:0},token:"fake-jwt-token"})},1e3)});r(m.user,m.token),s("/dashboard")}catch(m){console.error("Erreur de connexion:",m)}};return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-8",children:[e.jsx(pe,{className:"w-8 h-8 text-emerald-500 mr-2"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Connexion"})]}),e.jsxs("form",{onSubmit:n(l),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{...t("email"),type:"email",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"}),i.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),e.jsx("input",{...t("password"),type:"password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"}),i.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.password.message})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 transition-colors",children:o?"Connexion...":"Se connecter"})]}),e.jsx("div",{className:"mt-6",children:e.jsx(ce,{})})]})})},Es=y.object({username:y.string().min(3,"Le nom d'utilisateur doit contenir au moins 3 caract√®res"),email:y.string().email("Email invalide"),password:y.string().min(6,"Le mot de passe doit contenir au moins 6 caract√®res"),confirmPassword:y.string()}).refine(s=>s.password===s.confirmPassword,{message:"Les mots de passe ne correspondent pas",path:["confirmPassword"]}),ks=()=>{const s=A(),r=E(l=>l.login),{register:t,handleSubmit:n,formState:{errors:a,isSubmitting:i}}=G({resolver:H(Es)}),o=async l=>{try{const c=await new Promise(m=>{setTimeout(()=>{m({user:{id:"1",username:l.username,email:l.email,level:1,coins:1e3,premiumCoins:0},token:"fake-jwt-token"})},1e3)});r(c.user,c.token),s("/dashboard")}catch(c){console.error("Erreur d'inscription:",c)}};return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-8",children:[e.jsx(ge,{className:"w-8 h-8 text-emerald-500 mr-2"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Inscription"})]}),e.jsxs("form",{onSubmit:n(o),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Nom d'utilisateur"}),e.jsx("input",{...t("username"),type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"}),a.username&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.username.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{...t("email"),type:"email",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mot de passe"}),e.jsx("input",{...t("password"),type:"password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"}),a.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.password.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmer le mot de passe"}),e.jsx("input",{...t("confirmPassword"),type:"password",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"}),a.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.confirmPassword.message})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 transition-colors",children:i?"Inscription...":"S'inscrire"})]}),e.jsx("div",{className:"mt-6",children:e.jsx(ce,{})})]})})},Ds=()=>{const s=[{id:1,type:"achievement",message:"Niveau 5 atteint",time:"Il y a 2 heures"},{id:2,type:"reward",message:"R√©compense quotidienne collect√©e",time:"Il y a 5 heures"},{id:3,type:"progress",message:"Nouveau record personnel",time:"Hier"}];return e.jsx("div",{className:"space-y-4",children:s.map(r=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(fe,{className:"w-2 h-2 mt-2 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-800",children:r.message}),e.jsx("p",{className:"text-sm text-gray-500",children:r.time})]})]},r.id))})},Is=()=>e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Objectif hebdomadaire"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"75%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"75%"}})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Objectif mensuel"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"45%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:"45%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Objectif annuel"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"20%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-yellow-600 h-2.5 rounded-full",style:{width:"20%"}})})]})]})}),Cs=()=>{const s=[{title:"Cultivateur Matinal",description:"Connectez-vous avant 10h",reward:{coins:100,experience:50},target:1},{title:"Jardinier Assidu",description:"Arrosez 5 plantes",reward:{coins:200,experience:100},target:5},{title:"Ma√Ætre Cultivateur",description:"Atteignez le niveau 2 avec une plante",reward:{coins:300,experience:150},target:1}],r=s[Math.floor(Math.random()*s.length)],t=new Date;return t.setDate(t.getDate()+1),t.setHours(0,0,0,0),{id:crypto.randomUUID(),...r,progress:0,completed:!1,expiresAt:t}},As=k()(D((s,r)=>({missions:[],generateDailyMissions:()=>{const t=new Date,a=r().missions.filter(i=>new Date(i.expiresAt)>t);if(a.length<3){const i=Array(3-a.length).fill(null).map(()=>Cs());s({missions:[...a,...i]})}},updateProgress:(t,n)=>{s(a=>({missions:a.missions.map(i=>i.id===t?{...i,progress:Math.min(n,i.target),completed:n>=i.target}:i)}))},claimReward:t=>{const n=r().missions.find(a=>a.id===t);return!n||!n.completed?!1:(s(a=>({missions:a.missions.filter(i=>i.id!==t)})),!0)}}),{name:"daily-missions-storage"})),de=k()(D(s=>({level:1,experience:0,coins:1e3,premiumCoins:0,plants:[],inventory:{seeds:{"basic-seed":5},fertilizers:{"basic-fertilizer":3},pots:{"small-pot":2}},addPlant:r=>s(t=>({plants:[...t.plants,r]})),waterPlant:r=>s(t=>({plants:t.plants.map(n=>n.id===r?{...n,waterLevel:100,lastWatered:new Date}:n)})),harvestPlant:r=>s(t=>({plants:t.plants.filter(n=>n.id!==r),coins:t.coins+500,experience:t.experience+100})),addExperience:r=>s(t=>{const n=t.experience+r,a=t.level*1e3;return n>=a?{experience:n-a,level:t.level+1,coins:t.coins+1e3}:{experience:n}}),addCoins:r=>s(t=>({coins:t.coins+r}))}),{name:"game-storage"})),me=k()(D((s,r)=>({notifications:[],hasUnread:!1,addNotification:t=>{const n={...t,id:crypto.randomUUID(),read:!1,timestamp:new Date};s(a=>({notifications:[n,...a.notifications],hasUnread:!0})),Notification.permission==="default"&&Notification.requestPermission(),Notification.permission==="granted"&&new Notification(t.title,{body:t.message,icon:"/cannabis.svg"})},markAsRead:t=>s(n=>({notifications:n.notifications.map(a=>a.id===t?{...a,read:!0}:a),hasUnread:n.notifications.some(a=>!a.read&&a.id!==t)})),clearNotifications:()=>s({notifications:[],hasUnread:!1})}),{name:"notifications-storage"})),Ps=()=>{const{missions:s,generateDailyMissions:r,claimReward:t}=As(),{addCoins:n,addExperience:a}=de(),{addNotification:i}=me();w.useEffect(()=>{r()},[r]);const o=l=>{const c=s.find(m=>m.id===l);!c||!c.completed||t(l)&&(n(c.reward.coins),a(c.reward.experience),i({title:"R√©compense r√©clam√©e !",message:`Vous avez re√ßu ${c.reward.coins} pi√®ces et ${c.reward.experience} XP`,type:"success"}))};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"Missions Quotidiennes"}),e.jsx("div",{className:"space-y-4",children:s.map(l=>e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold",children:l.title}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(je,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:new Date(l.expiresAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("p",{className:"text-gray-600 mb-3",children:l.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all",style:{width:`${l.progress/l.target*100}%`}})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[l.progress,"/",l.target]}),l.completed?e.jsxs("button",{onClick:()=>o(l.id),className:"flex items-center text-sm text-emerald-500 hover:text-emerald-600",children:[e.jsx(ve,{className:"w-4 h-4 mr-1"}),"R√©clamer"]}):e.jsxs("span",{className:"text-sm text-gray-500",children:[l.reward.coins," ü™ô | ",l.reward.experience," XP"]})]})]})]},l.id))})]})},Ls=k()(D((s,r)=>({entries:[],updateLeaderboard:t=>{s(n=>({entries:n.entries.filter(i=>i.userId!==t.userId).concat({...t,rank:0}).sort((i,o)=>o.score-i.score).map((i,o)=>({...i,rank:o+1}))}))},getTopPlayers:(t=10)=>r().entries.slice(0,t),getUserRank:t=>{const n=r().entries.find(a=>a.userId===t);return n?n.rank:null}}),{name:"leaderboard-storage"})),_s=()=>{const{getTopPlayers:s,getUserRank:r}=Ls(),{user:t}=E(),n=s(10),a=t?r(t.id):null,i=o=>{switch(o){case 1:return e.jsx(Z,{className:"w-6 h-6 text-yellow-500"});case 2:return e.jsx(ye,{className:"w-6 h-6 text-gray-400"});case 3:return e.jsx(V,{className:"w-6 h-6 text-amber-600"});default:return e.jsx("span",{className:"w-6 h-6 flex items-center justify-center font-bold",children:o})}};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"Classement"}),e.jsx("div",{className:"space-y-4",children:n.map((o,l)=>e.jsxs(f.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:l*.1},className:`flex items-center p-3 rounded-lg ${o.userId===(t==null?void 0:t.id)?"bg-emerald-50":"hover:bg-gray-50"}`,children:[e.jsx("div",{className:"flex items-center justify-center w-10",children:i(o.rank)}),e.jsxs("div",{className:"flex-1 ml-4",children:[e.jsx("p",{className:"font-medium",children:o.username}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Niveau ",o.level]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold",children:o.score}),e.jsxs("p",{className:"text-sm text-gray-500",children:[o.plantsGrown," plantes"]})]})]},o.userId))}),t&&a&&a>10&&e.jsx("div",{className:"mt-6 p-4 border-t",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 flex justify-center",children:e.jsxs("span",{className:"font-bold",children:["#",a]})}),e.jsxs("div",{className:"flex-1 ml-4",children:[e.jsx("p",{className:"font-medium",children:"Vous"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Niveau ",t.level]})]})]})})]})},Rs=k()(D(s=>({messages:[],addMessage:r=>{const t={...r,id:crypto.randomUUID(),timestamp:new Date};s(n=>({messages:[...n.messages,t]}))},clearMessages:()=>s({messages:[]})}),{name:"chat-storage",storage:localStorage})),Us={Smileys:["üòä","üòÇ","ü§£","üòç","ü•∞","üòé","ü§î","üòÖ"],Gestes:["üëç","üëé","üëã","‚úåÔ∏è","ü§ù","üëä","üôå","üëè"],Nature:["üå±","üåø","üçÄ","üå∫","üå∏","üåº","üåª","üåπ"],Objets:["üí°","‚≠ê","üí´","üéâ","üé®","üìö","üíª","üéÆ"]},Ts=({onSelect:s,onClose:r})=>e.jsx(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full mb-2 left-0 bg-white rounded-lg shadow-lg p-4 w-64",children:e.jsx("div",{className:"space-y-4",children:Object.entries(Us).map(([t,n])=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:t}),e.jsx("div",{className:"grid grid-cols-8 gap-1",children:n.map(a=>e.jsx("button",{onClick:()=>s(a),className:"hover:bg-gray-100 rounded p-1 text-xl",children:a},a))})]},t))})}),Os=()=>{const[s,r]=w.useState(""),[t,n]=w.useState(!1),{user:a}=E(),{messages:i,addMessage:o}=Rs(),l=w.useRef(null),c=()=>{var u;(u=l.current)==null||u.scrollIntoView({behavior:"smooth"})};w.useEffect(()=>{c()},[i]);const m=u=>{u.preventDefault(),!(!s.trim()||!a)&&(o({senderId:a.id,senderName:a.username,content:s.trim()}),r(""))},g=u=>{r(v=>v+u),n(!1)};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md h-[500px] flex flex-col",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h2",{className:"text-lg font-semibold",children:"Chat"})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(u=>e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex ${u.senderId===(a==null?void 0:a.id)?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${u.senderId===(a==null?void 0:a.id)?"bg-emerald-500 text-white":"bg-gray-100"}`,children:[e.jsx("p",{className:"text-xs font-medium mb-1",children:u.senderId===(a==null?void 0:a.id)?"Vous":u.senderName}),e.jsx("p",{className:"break-words",children:u.content}),e.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(u.timestamp).toLocaleTimeString()})]})},u.id)),e.jsx("div",{ref:l})]}),e.jsx("form",{onSubmit:m,className:"p-4 border-t",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:s,onChange:u=>r(u.target.value),placeholder:"Votre message...",className:"w-full rounded-lg border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 pr-10",maxLength:500}),e.jsx("button",{type:"button",onClick:()=>n(!t),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:e.jsx(be,{className:"w-5 h-5"})}),e.jsx(ee,{children:t&&e.jsx("div",{className:"absolute bottom-full right-0 mb-2",children:e.jsx(Ts,{onSelect:g,onClose:()=>n(!1)})})})]}),e.jsx("button",{type:"submit",disabled:!s.trim(),className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 disabled:opacity-50",children:e.jsx(Ne,{className:"w-5 h-5"})})]})})]})},Ms=()=>{const[s,r]=R.useState(!1),{notifications:t,markAsRead:n,clearNotifications:a,hasUnread:i}=me(),o=()=>{r(!0),t.forEach(l=>{l.read||n(l.id)})};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:o,className:"relative p-2 rounded-full hover:bg-gray-100",children:[e.jsx(we,{className:"w-6 h-6"}),i&&e.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full"})]}),e.jsx(ee,{children:s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>r(!1)}),e.jsxs(f.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsx("h3",{className:"font-semibold",children:"Notifications"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(se,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length===0?e.jsx("p",{className:"p-4 text-center text-gray-500",children:"Aucune notification"}):t.map(l=>e.jsxs(f.div,{initial:{opacity:0},animate:{opacity:1},className:`p-4 border-b ${l.read?"":"bg-blue-50"}`,children:[e.jsx("h4",{className:"font-medium",children:l.title}),e.jsx("p",{className:"text-sm text-gray-600",children:l.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(l.timestamp).toLocaleString()})]},l.id))}),t.length>0&&e.jsx("div",{className:"p-4 border-t",children:e.jsx("button",{onClick:a,className:"w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 rounded",children:"Effacer toutes les notifications"})})]})]})})]})},zs=[{id:"first-login",title:"Premier Pas",description:"Connectez-vous pour la premi√®re fois",icon:"üå±",category:"d√©butant",progress:0,maxProgress:1,completed:!1,reward:{coins:100,experience:50,badge:"Nouveau Cultivateur"}},{id:"reach-level-5",title:"Apprenti Cultivateur",description:"Atteignez le niveau 5",icon:"üåø",category:"d√©butant",progress:0,maxProgress:5,completed:!1,reward:{coins:500,experience:200,badge:"Apprenti"}},{id:"daily-streak-7",title:"Cultivateur Assidu",description:"Connectez-vous 7 jours de suite",icon:"üìÖ",category:"interm√©diaire",progress:0,maxProgress:7,completed:!1,reward:{coins:1e3,experience:500,badge:"Assidu"}}],$s=k()(D(s=>({achievements:[],unlockedAchievements:[],updateProgress:(r,t)=>s(n=>({achievements:n.achievements.map(a=>a.id===r?{...a,progress:Math.min(t,a.maxProgress),completed:t>=a.maxProgress&&!a.completed,completedAt:t>=a.maxProgress&&!a.completed?new Date:a.completedAt}:a)})),completeAchievement:r=>s(t=>({achievements:t.achievements.map(n=>n.id===r?{...n,completed:!0,completedAt:new Date,progress:n.maxProgress}:n),unlockedAchievements:[...t.unlockedAchievements,r]})),initializeAchievements:()=>s(r=>({achievements:r.achievements.length===0?zs:r.achievements}))}),{name:"achievements-storage",storage:F(()=>localStorage)})),Vs=({achievement:s})=>{const r=s.progress/s.maxProgress*100;return e.jsxs(f.div,{whileHover:{scale:1.02},className:`bg-white rounded-lg shadow-md p-4 ${s.completed?"border-2 border-emerald-500":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:s.icon}),e.jsx("h4",{className:"font-semibold",children:s.title})]}),s.completed?e.jsx(Z,{className:"w-5 h-5 text-emerald-500"}):s.category==="secret"?e.jsx(Se,{className:"w-5 h-5 text-gray-400"}):null]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${s.completed?"bg-emerald-500":"bg-blue-500"}`,style:{width:`${r}%`}})}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("span",{className:"text-gray-500",children:[s.progress,"/",s.maxProgress]}),e.jsxs("div",{className:"text-right",children:[s.reward.coins&&e.jsxs("span",{className:"text-yellow-500 mr-2",children:[s.reward.coins," ü™ô"]}),s.reward.experience&&e.jsxs("span",{className:"text-blue-500",children:[s.reward.experience," XP"]})]})]}),s.completed&&s.completedAt&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Obtenu le ",new Date(s.completedAt).toLocaleDateString()]})]})]})},Gs=()=>{const{achievements:s}=$s(),r=["d√©butant","interm√©diaire","expert","secret"];return e.jsx("div",{className:"space-y-8",children:r.map((t,n)=>{const a=s.filter(i=>i.category===t);return a.length===0?null:e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},children:[e.jsx("h3",{className:"text-xl font-bold mb-4 capitalize",children:t}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(i=>e.jsx(Vs,{achievement:i},i.id))})]},t)})})};function Fs(){const{level:s,experience:r,coins:t,plants:n}=de();return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-4 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Niveau"}),e.jsx("p",{className:"text-2xl font-bold",children:s})]}),e.jsx(V,{className:"w-8 h-8 text-emerald-500"})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-emerald-500 h-2 rounded-full",style:{width:`${r%1e3/10}%`}})}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r,"/1000 XP"]})]})]}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 rounded-lg shadow-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Pi√®ces"}),e.jsx("p",{className:"text-2xl font-bold",children:t})]}),e.jsx(Ee,{className:"w-8 h-8 text-yellow-500"})]})}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-4 rounded-lg shadow-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Plantes Actives"}),e.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),e.jsx(L,{className:"w-8 h-8 text-emerald-500"})]})}),e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-4 rounded-lg shadow-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Croissance"}),e.jsx("p",{className:"text-2xl font-bold",children:"+24%"})]}),e.jsx(ke,{className:"w-8 h-8 text-emerald-500"})]})})]})}const Hs=()=>{const s=E(r=>r.user);return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Tableau de bord"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ms,{}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Bienvenue, ",s==null?void 0:s.username]})]})]}),e.jsx(Fs,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(Ps,{}),e.jsx(_s,{})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Progression"}),e.jsx(Is,{})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Activit√©s r√©centes"}),e.jsx(Ds,{})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Os,{}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"Succ√®s"}),e.jsx(Gs,{})]})]})]})},qs=y.object({username:y.string().min(3,"Le nom d'utilisateur doit contenir au moins 3 caract√®res").max(50,"Le nom d'utilisateur ne doit pas d√©passer 50 caract√®res").regex(/^[a-zA-Z0-9_-]+$/,"Le nom d'utilisateur ne peut contenir que des lettres, chiffres, tirets et underscores"),email:y.string().email("Email invalide").max(100,"L'email ne doit pas d√©passer 100 caract√®res"),level:y.number().int("Le niveau doit √™tre un nombre entier").min(1,"Le niveau doit √™tre sup√©rieur √† 0").max(100,"Le niveau ne peut pas d√©passer 100"),status:y.enum(["active","suspended"])}),Bs=({user:s,onClose:r,onSave:t})=>{const{register:n,handleSubmit:a,formState:{errors:i}}=G({resolver:H(qs),defaultValues:{username:s.username,email:s.email,level:s.level,status:s.status}}),o=l=>{const c={...l,username:l.username.trim(),email:l.email.trim().toLowerCase()};t(c),r()};return R.useEffect(()=>{const l=c=>{c.key==="Escape"&&r()};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[r]),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:l=>{l.target===l.currentTarget&&r()},children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Modifier l'utilisateur"}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700","aria-label":"Fermer",children:e.jsx(se,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:a(o),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nom d'utilisateur"}),e.jsx("input",{...n("username"),type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",maxLength:50}),i.username&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.username.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{...n("email"),type:"email",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",maxLength:100}),i.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Niveau"}),e.jsx("input",{...n("level",{valueAsNumber:!0}),type:"number",min:"1",max:"100",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500"}),i.level&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.level.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Statut"}),e.jsxs("select",{...n("status"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-emerald-500 focus:ring-emerald-500",children:[e.jsx("option",{value:"active",children:"Actif"}),e.jsx("option",{value:"suspended",children:"Suspendu"})]}),i.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.status.message})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Annuler"}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700",children:"Sauvegarder"})]})]})]})})},Js=()=>{const s=A(),{user:r}=E(),[t,n]=w.useState(""),[a,i]=w.useState(null),{users:o,updateUser:l,deleteUser:c}=oe();R.useEffect(()=>{(!r||r.email!=="admin@greenville.com")&&(s("/dashboard"),S.error("Acc√®s non autoris√©"))},[r,s]);const m=d=>{if(d.email==="admin@greenville.com"&&(r==null?void 0:r.email)!=="admin@greenville.com"){S.error("Vous n'avez pas les permissions n√©cessaires");return}i(d)},g=d=>{const x=o.find(h=>h.id===d);if((x==null?void 0:x.email)==="admin@greenville.com"){S.error("Le compte administrateur ne peut pas √™tre supprim√©");return}if(window.confirm("√ätes-vous s√ªr de vouloir supprimer cet utilisateur ?"))try{c(d),S.success("Utilisateur supprim√© avec succ√®s")}catch(h){S.error("Erreur lors de la suppression"),console.error("Delete error:",h)}},u=d=>{if(a)try{if(d.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email))throw new Error("Email invalide");if(d.username&&(d.username.length<3||d.username.length>50))throw new Error("Le nom d'utilisateur doit contenir entre 3 et 50 caract√®res");if(d.level&&(d.level<1||d.level>100))throw new Error("Le niveau doit √™tre compris entre 1 et 100");l(a.id,d),S.success("Utilisateur modifi√© avec succ√®s"),i(null)}catch(x){S.error(x instanceof Error?x.message:"Erreur lors de la modification"),console.error("Update error:",x)}},v=d=>d.replace(/[<>]/g,"").slice(0,50),j=o.filter(d=>{const x=v(t).toLowerCase();return d.username.toLowerCase().includes(x)||d.email.toLowerCase().includes(x)});return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Gestion des Utilisateurs"}),e.jsxs("div",{className:"mb-6 relative",children:[e.jsx("input",{type:"text",placeholder:"Rechercher un utilisateur...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-emerald-500 focus:border-emerald-500",value:t,onChange:d=>n(d.target.value),maxLength:50}),e.jsx(te,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Niveau"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date d'inscription"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(d=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-emerald-100 flex items-center justify-center",children:e.jsx(Q,{className:"h-5 w-5 text-emerald-600"})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.username})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:d.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:["Niveau ",d.level]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${d.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.status==="active"?"Actif":"Suspendu"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(d.joinDate).toLocaleDateString()}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>m(d),className:"text-emerald-600 hover:text-emerald-900 mr-3",children:e.jsx(De,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>g(d.id),className:"text-red-600 hover:text-red-900",children:e.jsx(Ie,{className:"h-5 w-5"})})]})]},d.id))})]})}),a&&e.jsx(Bs,{user:a,onClose:()=>i(null),onSave:u})]})},Ws=()=>{const[s,r]=w.useState(""),t=[{id:"1",owner:"JohnDoe",strain:"Northern Lights",stage:3,health:95,startDate:"2024-01-20",status:"healthy"},{id:"2",owner:"JaneSmith",strain:"Blue Dream",stage:2,health:75,startDate:"2024-02-05",status:"warning"},{id:"3",owner:"BobJohnson",strain:"White Widow",stage:1,health:45,startDate:"2024-02-10",status:"critical"}],n=i=>{switch(i){case"healthy":return"bg-green-100 text-green-800";case"warning":return"bg-yellow-100 text-yellow-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=t.filter(i=>i.owner.toLowerCase().includes(s.toLowerCase())||i.strain.toLowerCase().includes(s.toLowerCase()));return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Gestion des Plantes"}),e.jsxs("div",{className:"mb-6 relative",children:[e.jsx("input",{type:"text",placeholder:"Rechercher une plante...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-emerald-500 focus:border-emerald-500",value:s,onChange:i=>r(i.target.value)}),e.jsx(te,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plante"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Propri√©taire"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stade"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sant√©"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de d√©but"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(i=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-emerald-100 flex items-center justify-center",children:e.jsx(L,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:i.strain}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",i.id]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.owner}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["Stage ",i.stage,"/4"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${i.health>80?"bg-green-500":i.health>50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${i.health}%`}})}),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[i.health,"%"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(i.startDate).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(i.status)}`,children:[i.status==="healthy"&&"Saine",i.status==="warning"&&"Attention",i.status==="critical"&&"Critique"]})})]},i.id))})]})})]})},Xs=()=>{const[s,r]=w.useState("overview"),t={totalUsers:1250,activePlants:3420,reportedIssues:8,systemHealth:98},n=()=>{switch(s){case"users":return e.jsx(Js,{});case"plants":return e.jsx(Ws,{});default:return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Derni√®res Inscriptions"}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center",children:e.jsx(U,{className:"w-5 h-5 text-emerald-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("p",{className:"font-medium",children:["Utilisateur ",a]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["il y a ",a," heure(s)"]})]})]}),e.jsx("button",{className:"text-emerald-600 hover:text-emerald-700",children:"Voir d√©tails"})]},a))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Actions Rapides"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>r("users"),className:"p-4 bg-emerald-50 rounded-lg hover:bg-emerald-100 transition",children:[e.jsx(U,{className:"w-6 h-6 text-emerald-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"G√©rer Utilisateurs"})]}),e.jsxs("button",{className:"p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition",children:[e.jsx(B,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Configuration"})]}),e.jsxs("button",{onClick:()=>r("plants"),className:"p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition",children:[e.jsx(L,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"G√©rer Plantes"})]}),e.jsxs("button",{className:"p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition",children:[e.jsx(q,{className:"w-6 h-6 text-orange-600 mx-auto mb-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Voir Alertes"})]})]})]})]})}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Administration"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>r("overview"),className:`px-4 py-2 rounded-lg transition ${s==="overview"?"bg-emerald-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Vue d'ensemble"}),e.jsx("button",{onClick:()=>r("users"),className:`px-4 py-2 rounded-lg transition ${s==="users"?"bg-emerald-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Utilisateurs"}),e.jsx("button",{onClick:()=>r("plants"),className:`px-4 py-2 rounded-lg transition ${s==="plants"?"bg-emerald-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Plantes"})]})]}),s==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(U,{className:"h-8 w-8 text-blue-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Utilisateurs"})]}),e.jsx("p",{className:"text-2xl font-bold",children:t.totalUsers}),e.jsx("p",{className:"text-sm text-green-500",children:"+12% ce mois"})]}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(L,{className:"h-8 w-8 text-emerald-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Plantes Actives"})]}),e.jsx("p",{className:"text-2xl font-bold",children:t.activePlants}),e.jsx("p",{className:"text-sm text-green-500",children:"+8% cette semaine"})]}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(q,{className:"h-8 w-8 text-orange-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Probl√®mes Signal√©s"})]}),e.jsx("p",{className:"text-2xl font-bold",children:t.reportedIssues}),e.jsx("p",{className:"text-sm text-orange-500",children:"3 nouveaux"})]}),e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(B,{className:"h-8 w-8 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Sant√© Syst√®me"})]}),e.jsxs("p",{className:"text-2xl font-bold",children:[t.systemHealth,"%"]}),e.jsx("p",{className:"text-sm text-green-500",children:"Optimal"})]})]}),n()]})};function Ys(){return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Ce,{className:"w-8 h-8 text-emerald-500 mr-2"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Politique de Confidentialit√©"})]}),e.jsxs("div",{className:"prose prose-emerald max-w-none",children:[e.jsxs("p",{className:"text-lg mb-4",children:["Derni√®re mise √† jour : ",new Date().toLocaleDateString()]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Collecte des Donn√©es"}),e.jsx("p",{children:"Nous collectons les informations suivantes :"}),e.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[e.jsx("li",{children:"Informations de profil (nom, email)"}),e.jsx("li",{children:"Donn√©es de jeu (progression, scores)"}),e.jsx("li",{children:"Informations techniques (IP, appareil)"})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Utilisation des Donn√©es"}),e.jsx("p",{children:"Vos donn√©es sont utilis√©es pour :"}),e.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[e.jsx("li",{children:"G√©rer votre compte et progression"}),e.jsx("li",{children:"Am√©liorer l'exp√©rience de jeu"}),e.jsx("li",{children:"Communiquer sur les mises √† jour"})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Protection des Donn√©es"}),e.jsx("p",{children:"Nous prot√©geons vos donn√©es via :"}),e.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[e.jsx("li",{children:"Chiffrement SSL/TLS"}),e.jsx("li",{children:"Acc√®s restreint aux donn√©es"}),e.jsx("li",{children:"Mises √† jour de s√©curit√© r√©guli√®res"})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Suppression des Donn√©es"}),e.jsx("p",{children:"Vous pouvez demander la suppression de vos donn√©es :"}),e.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[e.jsx("li",{children:"Via votre profil utilisateur"}),e.jsx("li",{children:"Par email √† privacy@greenville.com"}),e.jsx("li",{children:"Les donn√©es seront supprim√©es sous 30 jours"})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Cookies"}),e.jsx("p",{children:"Nous utilisons des cookies pour :"}),e.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[e.jsx("li",{children:"Maintenir votre session"}),e.jsx("li",{children:"Sauvegarder vos pr√©f√©rences"}),e.jsx("li",{children:"Analyser l'utilisation du site"})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Contact"}),e.jsx("p",{children:"Pour toute question sur vos donn√©es :"}),e.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[e.jsx("li",{children:"Email : privacy@greenville.com"}),e.jsx("li",{children:"Formulaire de contact sur le site"}),e.jsx("li",{children:"D√©lai de r√©ponse : 48h maximum"})]})]})]})]})})}const Ks=()=>e.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-emerald-500 border-t-transparent"})});function K({children:s,requireAdmin:r=!1}){const{isAuthenticated:t,user:n}=E(),a=(n==null?void 0:n.email)==="admin@greenville.com";return t?r&&!a?e.jsx(z,{to:"/dashboard"}):e.jsx(e.Fragment,{children:s}):e.jsx(z,{to:"/login"})}function Qs(){return e.jsx(Te,{clientId:"886218962997-v81f503tdae2g1v4vdelopefv4jj23pg.apps.googleusercontent.com",children:e.jsx(_e,{children:e.jsxs("div",{className:"min-h-screen bg-emerald-50",children:[e.jsx(fs,{}),e.jsx(w.Suspense,{fallback:e.jsx(Ks,{}),children:e.jsxs(Re,{children:[e.jsx(I,{path:"/",element:e.jsx(js,{})}),e.jsx(I,{path:"/login",element:e.jsx(Ss,{})}),e.jsx(I,{path:"/register",element:e.jsx(ks,{})}),e.jsx(I,{path:"/privacy",element:e.jsx(Ys,{})}),e.jsx(I,{path:"/dashboard/*",element:e.jsx(K,{children:e.jsx(Hs,{})})}),e.jsx(I,{path:"/admin/*",element:e.jsx(K,{requireAdmin:!0,children:e.jsx(Xs,{})})}),e.jsx(I,{path:"*",element:e.jsx(z,{to:"/",replace:!0})})]})}),e.jsx(Ae,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"},success:{style:{background:"#059669"}},error:{style:{background:"#dc2626"}}}})]})})})}$.createRoot(document.getElementById("root")).render(e.jsx(R.StrictMode,{children:e.jsx(Qs,{})}));
//# sourceMappingURL=index-DIPouyWF.js.map
